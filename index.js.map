{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48306613-fd23d021c55686c3494b56897';\nconst BASE_URL = 'https://pixabay.com/api';\n\nexport function getPhotos(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\n","export function createGallery(cards) {\n  return cards\n    .map(\n      ({\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n      }) =>\n        `\n            <li class=\"gallery-card\">\n                <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" height=312 width=200>\n                    <ul class=\"gallery-image-data\">\n                        <li class=\"gallery-image-data-item\">\n                            <p class=\"gallery-image-data-item-title\">Likes</p>\n                            <p class=\"gallery-image-data-item-value\">${likes}</p>\n                        </li>\n\n                        <li class=\"gallery-image-data-item\">\n                            <p class=\"gallery-image-data-item-title\">Views</p>\n                            <p class=\"gallery-image-data-item-value\">${views}</p>\n                        </li>\n\n                        <li class=\"gallery-image-data-item\">\n                            <p class=\"gallery-image-data-item-title\">Comments</p>\n                            <p class=\"gallery-image-data-item-value\">${comments}</p>\n                        </li>\n\n                        <li class=\"gallery-image-data-item\">\n                            <p class=\"gallery-image-data-item-title\">Downloads</p>\n                            <p class=\"gallery-image-data-item-value\">${downloads}</p>\n                        </li>\n                    </ul>\n                </a>\n            </li>\n      `\n    )\n    .join('');\n}\n","import 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { getPhotos } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst searchForm = document.querySelector('.image-search-form');\n\nlet query;\n\nconst simpleLightBox = new SimpleLightbox('.gallery li a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nsearchForm.addEventListener('input', e => {\n  query = e.target.value.trim();\n});\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  if (!query) return;\n\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  getPhotos(query)\n    .then(({ hits }) => {\n      loader.style.display = 'none';\n      if (hits.length) {\n        gallery.innerHTML = createGallery(hits);\n        simpleLightBox.refresh();\n      } else {\n        iziToast.warning({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        message: 'There are some errors with loading pictures.',\n        position: 'topRight',\n      });\n      console.error(error);\n    })\n    .finally(() => {\n      query = '';\n      searchForm.reset();\n    });\n});\n"],"names":["API_KEY","BASE_URL","getPhotos","query","params","res","createGallery","cards","webformatURL","tags","likes","views","comments","downloads","largeImageURL","gallery","loader","searchForm","simpleLightBox","SimpleLightbox","e","hits","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,0BAEV,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAM,EAAE,EAAE,KAAKC,GAAO,CACjD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACf,CAAG,CACH,CClBO,SAASC,EAAcC,EAAO,CACnC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACD,IACC;AAAA;AAAA,gDAEwCA,CAAa;AAAA,sDACPN,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,uEAITC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,uEAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,uEAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,uEAKRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAM3E,EACA,KAAK,EAAE,CACZ,CCnCA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,oBAAoB,EAE9D,IAAId,EAEJ,MAAMe,EAAiB,IAAIC,EAAe,gBAAiB,CACzD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAW,iBAAiB,QAASG,GAAK,CACxCjB,EAAQiB,EAAE,OAAO,MAAM,KAAI,CAC7B,CAAC,EAEDH,EAAW,iBAAiB,SAAUG,GAAK,CACzCA,EAAE,eAAc,EACXjB,IAELY,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvBd,EAAUC,CAAK,EACZ,KAAK,CAAC,CAAE,KAAAkB,KAAW,CAClBL,EAAO,MAAM,QAAU,OACnBK,EAAK,QACPN,EAAQ,UAAYT,EAAce,CAAI,EACtCH,EAAe,QAAO,GAEtBI,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,UACpB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdD,EAAS,MAAM,CACb,QAAS,+CACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAMC,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbpB,EAAQ,GACRc,EAAW,MAAK,CACtB,CAAK,EACL,CAAC"}